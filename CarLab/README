# README ЗА ПРОЕКТ "CarLab"



## СТАРТИРАНЕ НА ПРОЕКТА И ВЪЗСТАНОВЯВАНЕ НА БАЗАТА ДАННИ НА WINDOWS ###

### 1. Намиране на базата данни

Името на базата данни е "CarLabDB" и се намира в папката "Database".

### 2. Възстановяване на базата данни

За да работи пълноценно приложението, е необходимо да се възстанови базата данни. 
Затова използвайте Microsoft SQL Server Management Studio 2022 (не по-стара от 2019). 
Важно е да се спазват следните условия:
- Използвайте SQL Server версия не по-стара от 2019 година.
- При свързване със сървъра изберете опцията "SQL Server Authentication" и въведете потребителско име и парола.

Процесът на възстановяване на базата данни включва следните стъпки:

1. Изберете сървъра в Microsoft SQL Server Management Studio.
2. Натиснете десен бутон върху "Databases" и изберете "Restore Database".
3. Следвайте стъпките на екрана за завършване на възстановяването.

### 3. Свързване на базата данни

Отворете проекта във Visual Studio 2019 или 2022 и отворете файла "appsettings.json". Заменете следните три маркирани елемента със следните данни:
- Име на сървъра
- Потребителско име
- Парола, използвани при свързване със сървъра в Microsoft SQL Server Management Studio.




### СТАРТИРАНЕ НА ПРОЕКТА НА MАС ###

Ако желаете да стартирате приложението локално на вашия Macbook, поради несъвместимостта на Microsoft SQL Server Management Studio с Mac OS,  
използвайте Azure Data Studio в комбинация с SQL Edge Docker Image.

#### 1. Изтегляне на SQL Edge Docker Image

Инсталирайте Docker Desktop и изпълнете командата:

```
docker pull mcr.microsoft.com/azure-sql-edge
```

#### 2. Стартиране на контейнера SQL Edge

Използвайте следната команда за стартиране на контейнера:

```
docker run --cap-add SYS_PTRACE -e 'ACCEPT_EULA=1' -e 'MSSQL_SA_PASSWORD=yourStrong(!)Password' -p 1433:1433 --name azuresqledge -d mcr.microsoft.com/azure-sql-edge
```
Сменете паролата от командата с желана от вас такава и я запомнете, защото ще Ви трябва за създаването на връзката на базата данни в Azure Data Studio и за конфигурирането на приложението да използва тази база - в appsettings.json.

#### 3. Създаване на връзка в Azure Data Studio

Създайте нова връзка в Azure Data Studio и изпълнете следната заявка за създаване на база данни:
```sql
IF NOT EXISTS (
  SELECT [name]
  FROM sys.databases
  WHERE [name] = N'CarLabDB'
)
CREATE DATABASE CarLabDB
```
След това изпълнете  SQL скрипта, за да напълните вашата новосъздадена база.

### 4. Свързване на базата данни

Отворете проекта във Visual Studio 2019 или 2022 и отворете файла "appsettings.json". Заменете следните три маркирани елемента със следните данни:
- Име на сървъра
- Потребителско име
- Парола, използвани при свързване със сървъра в Microsoft SQL Server Management Studio.

### 5. Стартиране на проекта локално

Отворете терминала във Visual Studio и навигирайте до папката на проекта ( там, където се намира CarLab.csproj файлът) и изпълнете следната команда, за да стартирате приложението:

```
dotnet run

```
Сайтът ще бъде достъпен на адрес: http://localhost:5000
А администраторският панел- на: http://localhost:5000/AdminHome

### 6. Примерни входни данни

За демонстративни цели са създадени два акаунта:
- Администратор: admin@gmail.com / 123456
- Потребител: john@gmail.com / 123456

Сега проектът е готов за използване!